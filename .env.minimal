# Interactive World News Map - Minimal Deployment Configuration
# This configuration is for users who have nginx and ollama deployed separately

# =============================================================================
# SECURITY CONFIGURATION (CHANGE THESE!)
# =============================================================================
POSTGRES_PASSWORD=change_this_to_a_secure_password
REDIS_PASSWORD=change_this_to_a_secure_password
JWT_SECRET=change-this-to-a-very-secure-secret-at-least-32-characters-long

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_DB=news_map_db
POSTGRES_USER=news_map_user
POSTGRES_PORT=5432

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_PORT=6379

# =============================================================================
# APPLICATION PORTS
# =============================================================================
BACKEND_PORT=3001
FRONTEND_PORT=3000

# =============================================================================
# API KEYS (REQUIRED)
# =============================================================================
# Get from https://newsapi.org/
NEWS_API_KEY=your-news-api-key-here

# Get from https://open-platform.theguardian.com/
GUARDIAN_API_KEY=your-guardian-api-key-here

# Get from Google Maps, MapBox, or similar service
GEOCODING_API_KEY=your-geocoding-api-key-here

# =============================================================================
# LLM PROVIDER CONFIGURATION
# =============================================================================
# Primary provider: openai, grok, or ollama
BIAS_ANALYSIS_PROVIDER=openai

# Fallback providers (comma-separated)
BIAS_ANALYSIS_FALLBACK_PROVIDERS=openai,grok

# =============================================================================
# OPENAI CONFIGURATION
# =============================================================================
# Get from https://platform.openai.com/
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_TIMEOUT=30000
OPENAI_MAX_RETRIES=3
OPENAI_RATE_LIMIT=60

# =============================================================================
# GROK CONFIGURATION (OPTIONAL)
# =============================================================================
# Get from https://x.ai/
GROK_API_KEY=your-grok-api-key-here
GROK_MODEL=grok-beta
GROK_BASE_URL=https://api.x.ai/v1
GROK_TIMEOUT=30000
GROK_MAX_RETRIES=3
GROK_RATE_LIMIT=60

# =============================================================================
# EXTERNAL OLLAMA CONFIGURATION (OPTIONAL)
# =============================================================================
# If you have Ollama running externally, configure it here
# Use host.docker.internal for local Ollama on the same machine
OLLAMA_BASE_URL=http://host.docker.internal:11434
OLLAMA_MODEL=llama2:7b
OLLAMA_TIMEOUT=60000
OLLAMA_MAX_RETRIES=2
OLLAMA_RATE_LIMIT=30

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
# API URLs for frontend (adjust if using external reverse proxy)
VITE_API_URL=http://localhost:3001
VITE_SOCKET_URL=http://localhost:3001

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Set to your domain in production, or * for development
CORS_ORIGIN=*

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
JWT_EXPIRES_IN=24h

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=info

# =============================================================================
# LLM HEALTH MONITORING
# =============================================================================
LLM_HEALTH_CHECK_INTERVAL=300000
LLM_ENABLE_FAILOVER=true